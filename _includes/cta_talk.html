{% assign ui = site.data.ui-text[page.lang] | default: site.data.ui-text[site.lang] | default: site.data.ui-text["en"] %}
{% assign current_lang = page.lang | default: site.lang | default: "en" %}

{% comment %} Build locale-aware URLs {% endcomment %}
{% if current_lang == "es-419" %}
  {% assign speaking_url = "/es-419/charlas/" %}
  {% assign contact_url = "/es-419/contacto/" %}
{% elsif current_lang == "pt-br" %}
  {% assign speaking_url = "/pt-br/palestras/" %}
  {% assign contact_url = "/pt-br/contato/" %}
{% else %}
  {% assign speaking_url = "/en/speaking/" %}
  {% assign contact_url = "/en/contact/" %}
{% endif %}

<div class="post-cta post-cta--talk">
  <h3>{{ ui.cta_talk_title | default: "Interested in this topic?" }}</h3>
  <p>{{ ui.cta_talk_description | default: "This is an archive of a past presentation. See current talk proposals and book me for your event." }}</p>
  <div class="post-cta__actions">
    <a class="btn btn--primary" href="{{ speaking_url | relative_url }}">{{ ui.cta_talk_speaking | default: "See current talks & media kit" }}</a>
    <a class="btn" href="{{ contact_url | relative_url }}">{{ ui.cta_talk_contact | default: "Book me" }}</a>
  </div>
</div>

<style>
.post-cta {
  margin: 2rem 0;
  padding: 1.25rem;
  border: 1px solid #e5e5e5;
  border-radius: 8px;
  background: #f9fafb;
}
.post-cta--talk {
  border-left: 4px solid #764ba2;
}
.post-cta__actions {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-top: 0.5rem;
}
</style>
