---
layout: null
---
[
  {% for post in site.posts %}
    {
      "title": {{ post.title | jsonify }},
      "description": {{ post.description | default: post.excerpt | strip_html | truncatewords: 30 | jsonify }},
      "url": {{ post.url | relative_url | jsonify }},
      "date": "{{ post.date | date: "%B %d, %Y" }}",
      "categories": {{ post.categories | jsonify }},
      "tags": {{ post.tags | jsonify }},
      "lang": {{ post.lang | default: "en" | jsonify }},
      "type": "post"
    }{% unless forloop.last %},{% endunless %}
  {% endfor %}
  {% assign pages_with_content = site.pages | where_exp: "page", "page.title" %}
  {% if pages_with_content.size > 0 %},{% endif %}
  {% for page in pages_with_content %}
    {% unless page.url contains "/assets/" or page.url contains "/files/" %}
    {
      "title": {{ page.title | jsonify }},
      "description": {{ page.description | default: page.excerpt | default: page.content | strip_html | truncatewords: 30 | jsonify }},
      "url": {{ page.url | relative_url | jsonify }},
      "lang": {{ page.lang | default: "en" | jsonify }},
      "type": "page"
    }{% unless forloop.last %},{% endunless %}
    {% endunless %}
  {% endfor %}
]
